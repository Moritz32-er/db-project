{% extends "base.html" %}
{% block content %}

<form method="post" action="/schedule/generate" class="row">
  <div>
    <label>Turnier</label><br />
    <select name="tournament_id" required>
      {% for t in tournaments %}
        <option value="{{ t.tournament_id }}">{{ t.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div>
    <button type="submit">Spielplan generieren (Jeder-gegen-jeden)</button>
  </div>
</form>

<h2>Spielplan</h2>
<table>
  <tr>
    <th>Match</th>
    <th>Runde</th>
    <th>Heim</th>
    <th>Gast</th>
    <th>Status</th>
    <th>Ergebnis</th>
    <th>Aktion</th>
  </tr>

  {% for m in matches %}
    <tr>
      <td>{{ m.match_id }}</td>
      <td>{{ m.round_no }}</td>
      <td>{{ m.home_team_name }}</td>
      <td>{{ m.away_team_name }}</td>
      <td>{{ m.status }}</td>
      <td>
        {% if m.home_score is not none %}
          {{ m.home_score }} : {{ m.away_score }}
        {% else %}
          â€”
        {% endif %}
      </td>
      <td>
        <a href="/matches/{{ m.match_id }}/result"><button>Ergebnis eintragen</button></a>
      </td>
    </tr>
  {% endfor %}
</table>

{% endblock %}
